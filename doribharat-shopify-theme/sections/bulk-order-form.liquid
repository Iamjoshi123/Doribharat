{%- comment -%}
  Section: Bulk Order Form
  Matches the BulkOrderPage from App.tsx â€” WhatsApp-powered inquiry form
{%- endcomment -%}

{%- style -%}
  .bulk-order {
    text-align: center;
    margin-bottom: 48px;
  }

  .bulk-order__tagline {
    color: var(--color-primary);
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.3em;
    font-size: 12px;
    margin-bottom: 16px;
    display: block;
  }

  .bulk-order__heading {
    font-size: clamp(2.5rem, 5vw, 3.75rem);
    margin-bottom: 24px;
  }

  .bulk-order__text {
    color: var(--color-text-light);
    font-weight: var(--font-weight-light);
    font-size: 1.125rem;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.7;
  }

  .bulk-order__form-wrap {
    background: var(--color-surface);
    border-radius: var(--radius-3xl);
    border: 1px solid var(--color-border);
    padding: 32px;
    box-shadow: var(--shadow-sm);
    margin-top: 48px;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  @media (min-width: 750px) {
    .bulk-order__form-wrap { padding: 48px; }
  }

  .bulk-order__form {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    text-align: left;
  }

  @media (max-width: 749px) {
    .bulk-order__form { grid-template-columns: 1fr; }
  }

  .bulk-order__form-full {
    grid-column: 1 / -1;
  }

  .bulk-order__label {
    font-size: 10px;
    text-transform: uppercase;
    font-weight: var(--font-weight-bold);
    letter-spacing: 0.25em;
    color: var(--color-text);
    margin-bottom: 12px;
    display: block;
  }

  .bulk-order__disclaimer {
    text-align: center;
    font-size: 10px;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.25em;
    margin-top: 24px;
  }
{%- endstyle -%}

<section class="section-spacing" data-section-id="{{ section.id }}">
  <div class="page-width">
    <div class="bulk-order">
      <span class="bulk-order__tagline">{{ section.settings.tagline | default: 'sections.bulk_order.tagline' | t }}</span>
      <h1 class="bulk-order__heading serif">{{ section.settings.heading | default: 'sections.bulk_order.heading' | t }}</h1>
      <p class="bulk-order__text">{{ section.settings.subheading | default: 'sections.bulk_order.subheading' | t }}</p>
    </div>

    <div class="bulk-order__form-wrap" id="BulkOrderFormWrap">
      <form class="bulk-order__form" id="BulkOrderForm" onsubmit="handleBulkOrder(event)">
        <div>
          <label class="bulk-order__label" for="bulk-name">{{ 'sections.bulk_order.name' | t }}</label>
          <input type="text" id="bulk-name" class="input input--rounded" placeholder="Arjun Sharma" required>
        </div>
        <div>
          <label class="bulk-order__label" for="bulk-whatsapp">{{ 'sections.bulk_order.whatsapp' | t }}</label>
          <input type="tel" id="bulk-whatsapp" class="input input--rounded" placeholder="+91 98XXX XXXXX" required>
        </div>
        <div>
          <label class="bulk-order__label" for="bulk-occasion">{{ 'sections.bulk_order.occasion' | t }}</label>
          <select id="bulk-occasion" class="input input--rounded">
            <option>{{ 'sections.bulk_order.occasions.wedding' | t }}</option>
            <option>{{ 'sections.bulk_order.occasions.corporate' | t }}</option>
            <option>{{ 'sections.bulk_order.occasions.festive' | t }}</option>
            <option>{{ 'sections.bulk_order.occasions.retail' | t }}</option>
            <option>{{ 'sections.bulk_order.occasions.other' | t }}</option>
          </select>
        </div>
        <div>
          <label class="bulk-order__label" for="bulk-qty">{{ 'sections.bulk_order.quantity_label' | t }}</label>
          <input type="number" id="bulk-qty" class="input input--rounded" placeholder="e.g. 50" required>
        </div>
        <div class="bulk-order__form-full">
          <label class="bulk-order__label" for="bulk-message">{{ 'sections.bulk_order.message' | t }}</label>
          <textarea id="bulk-message" class="input input--rounded" rows="4" placeholder="Preferred colors, designs, or specific deadline..."></textarea>
        </div>
        <div class="bulk-order__form-full">
          <button type="submit" class="btn btn--primary btn--full" style="padding: 20px;">
            {{ 'sections.bulk_order.submit' | t }}
          </button>
          <p class="bulk-order__disclaimer">{{ 'sections.bulk_order.disclaimer' | t }}</p>
        </div>
      </form>
    </div>
  </div>
</section>

<script>
  function handleBulkOrder(e) {
    e.preventDefault();
    var name = document.getElementById('bulk-name').value;
    var occasion = document.getElementById('bulk-occasion').value;
    var qty = document.getElementById('bulk-qty').value;
    var message = document.getElementById('bulk-message').value;
    var whatsappNumber = '{{ settings.whatsapp_number }}';

    var text = 'Bulk Inquiry from {{ shop.name }}:%0A' +
      'Name: ' + name + '%0A' +
      'Occasion: ' + occasion + '%0A' +
      'Quantity: ' + qty + '%0A' +
      'Message: ' + message;

    window.open('https://wa.me/' + whatsappNumber + '?text=' + text, '_blank');

    // Show success state
    var wrap = document.getElementById('BulkOrderFormWrap');
    wrap.innerHTML = '<div style="text-align:center;padding:64px 0;">' +
      '<div style="width:80px;height:80px;background:#f0fdf4;color:#16a34a;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 32px;">' +
      '<svg width="40" height="40" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>' +
      '</div>' +
      '<h2 class="serif" style="font-size:1.875rem;margin-bottom:16px;">{{ "sections.bulk_order.success_heading" | t }}</h2>' +
      '<p style="color:var(--color-text-light);font-weight:300;max-width:380px;margin:0 auto 40px;">{{ "sections.bulk_order.success_message" | t }}</p>' +
      '<a href="/" style="display:inline-block;border-bottom:2px solid var(--color-text);padding-bottom:4px;font-weight:700;font-size:12px;text-transform:uppercase;letter-spacing:0.2em;">{{ "cart.continue_shopping" | t }}</a>' +
      '</div>';
  }
</script>

{% schema %}
{
  "name": "Bulk Order Form",
  "class": "section-bulk-order",
  "settings": [
    {
      "type": "text",
      "id": "tagline",
      "label": "Tagline",
      "default": "Artisanal Gifting"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Heritage for Every Guest"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "From grand weddings to corporate milestones, share the soul of Indian craftsmanship. Our artisans curate bespoke collections for your special occasions."
    }
  ],
  "presets": [
    {
      "name": "Bulk Order Form",
      "category": "Forms"
    }
  ]
}
{% endschema %}
