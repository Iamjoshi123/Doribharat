############################################################
# Backend API settings
############################################################

# Optional: override the default port (8080)
PORT=$port

# Google Cloud project used for logging and resource discovery
GOOGLE_CLOUD_PROJECT=your-gcp-project
# Aliases used by Google SDKs (keep in sync with GOOGLE_CLOUD_PROJECT)
GCP_PROJECT=${GOOGLE_CLOUD_PROJECT}
GCLOUD_PROJECT=${GOOGLE_CLOUD_PROJECT}
# Logger name for Google Cloud Logging
CLOUD_LOG_NAME=orders-events

# Admin API key required by /orders admin endpoints
ADMIN_API_KEY=replace-with-admin-api-key

# Auth secrets (use Secret Manager in production)
JWT_SIGNING_KEY_SECRET=projects/your-gcp-project/secrets/jwt-signing-key
ADMIN_USERS_SECRET=projects/your-gcp-project/secrets/admin-users

############################################################
# Database (Postgres) settings
############################################################

# Primary connection pieces used by the backend Pool configuration
DB_USER=doribharat_app
DB_PASS=super-secure-password
# Alias used by pg.Pool
DB_PASSWORD=${DB_PASS}
DB_NAME=doribharat
DB_HOST=127.0.0.1
DB_PORT=5432
# Set to "true" to enable TLS; defaults to disabled locally
DB_SSL=false
# Max connections in the pool
DB_POOL_MAX=10

# Cloud SQL Unix socket configuration
CLOUD_SQL_CONNECTION_NAME=project:region:instance
# If set, INSTANCE_CONNECTION_NAME takes precedence over DB_HOST
INSTANCE_CONNECTION_NAME=${CLOUD_SQL_CONNECTION_NAME}
DB_SOCKET_PATH=/cloudsql

# Direct connection strings (choose one per environment)
# Local development via Cloud SQL Auth Proxy (tcp:127.0.0.1:5432)
DATABASE_URL="postgresql://${DB_USER}:${DB_PASS}@127.0.0.1:${DB_PORT}/${DB_NAME}?sslmode=disable"

# Cloud Run direct Unix socket connection (replace placeholders)
CLOUD_RUN_DATABASE_URL="postgresql://${DB_USER}:${DB_PASS}@/${DB_NAME}?host=/cloudsql/${CLOUD_SQL_CONNECTION_NAME}&sslmode=disable"

############################################################
# Messaging / integrations
############################################################

# Google Cloud Pub/Sub topic for WhatsApp events
WHATSAPP_TOPIC=projects/your-gcp-project/topics/whatsapp-events
# Override the webhook URL returned to WhatsApp, if needed
WHATSAPP_WEBHOOK_URL=https://api.doribharat.com/whatsapp/webhook



PORT=8080
GOOGLE_CLOUD_PROJECT=debug-project
DB_USER=dummy
DB_PASSWORD=dummy
DB_NAME=dummy
CLOUD_SQL_CONNECTION_NAME=a:b:c
JWT_SIGNING_KEY_SECRET=dummy
ADMIN_USERS_SECRET=dummy
DISABLE_GCP_SERVICES=true

